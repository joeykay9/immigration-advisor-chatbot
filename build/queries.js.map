{"version":3,"sources":["../src/queries.js"],"names":["readRulesBySection","sectionTitle","query","session","readTransaction","tx","run","readRulesByParagraph","paragraphIndex","limit","readRequirementsByType"],"mappings":";;;;;;;;;AAAA;;AAEA,IAAMA,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,YAAD,EAAkB;AACzC,MAAMC,KAAK,0LAAX;AAMA,SAAOC,qBAAQC,eAAR,CAAwB,UAAAC,EAAE;AAAA,WAAIA,EAAE,CAACC,GAAH,CAAOJ,KAAP,EAAc;AAAED,MAAAA,YAAY,EAAZA;AAAF,KAAd,CAAJ;AAAA,GAA1B,CAAP;AACH,CARD;;;;AAUA,IAAMM,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,cAAD,EAAiC;AAAA,MAAhBC,KAAgB,uEAAR,GAAQ;AAC1D,MAAMP,KAAK,mKAAX;AAMA,SAAOC,qBAAQC,eAAR,CAAwB,UAAAC,EAAE;AAAA,WAAIA,EAAE,CAACC,GAAH,CAAOJ,KAAP,EAAc;AAAEM,MAAAA,cAAc,EAAdA,cAAF;AAAkBC,MAAAA,KAAK,EAALA;AAAlB,KAAd,CAAJ;AAAA,GAA1B,CAAP;AACH,CARD;;;;AAUA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACF,cAAD,EAAoB;AAC/C,MAAMN,KAAK,yNAAX;AAMA,SAAOC,qBAAQC,eAAR,CAAwB,UAAAC,EAAE;AAAA,WAAIA,EAAE,CAACC,GAAH,CAAOJ,KAAP,EAAc;AAAEM,MAAAA,cAAc,EAAdA;AAAF,KAAd,CAAJ;AAAA,GAA1B,CAAP;AACH,CARD","sourcesContent":["import session from \"./database\"\r\n\r\nconst readRulesBySection = (sectionTitle) => {\r\n    const query = `\r\n        MATCH (s:Section {title: $sectionTitle}), (p:Paragraph), (r:Rule)\r\n        WHERE (s)-[:CONTAINS]->(p) AND (p)-[:CONTAINS]->(r) \r\n        RETURN r\r\n        ORDER BY r.index`;\r\n\r\n    return session.readTransaction(tx => tx.run(query, { sectionTitle }))\r\n}\r\n\r\nconst readRulesByParagraph = (paragraphIndex, limit = 100) => {\r\n    const query = `\r\n        MATCH (p:Paragraph {index: $paragraphIndex}), (r:Rule)\r\n        WHERE (p)-[:CONTAINS]->(r) \r\n        RETURN r\r\n        ORDER BY r.index LIMIT $limit`;\r\n\r\n    return session.readTransaction(tx => tx.run(query, { paragraphIndex, limit }))\r\n}\r\n\r\nconst readRequirementsByType = (paragraphIndex) => {\r\n    const query = `\r\n        MATCH (p:Paragraph {index: $paragraphIndex}), (r:Rule {desc: 'Requirements:'}), (s:SubRule)\r\n        WHERE (p)-[:CONTAINS]->(r) AND (r)-[:CONTAINS]->(s)\r\n        RETURN r, s\r\n        ORDER BY r, s.index`;\r\n\r\n    return session.readTransaction(tx => tx.run(query, { paragraphIndex }))\r\n}\r\n\r\nexport {\r\n    readRulesBySection,\r\n    readRulesByParagraph,\r\n    readRequirementsByType\r\n}"],"file":"queries.js"}